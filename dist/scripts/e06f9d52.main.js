"use strict";function Location(a,b,c,d){var e=this;e.name=a,e.lat=b,e.lng=c,e.marker=new google.maps.Marker({icon:{scaledSize:new google.maps.Size(54,27),url:"images/icon.svg"},map:map,position:new google.maps.LatLng(b,c),title:a}),e.show=ko.observable(d),google.maps.event.addListener(e.marker,"click",function(){infoWindow.setContent(this.title),infoWindow.open(map,this)})}function convertToLocations(a){for(var b=[],c=0;c<a.length;c++)b[c]=new Location(a[c].name,a[c].lat,a[c].lng,!0);return b}function AppViewModel(){var a=this;a.currentList=ourTopPizza,a.currentListString="our",a.filter=ko.observable(""),a.locations=ko.observableArray(convertToLocations(a.currentList)),a.choosePizzaList=function(b,c){c.target.id!=a.currentListString&&(a.currentListString=c.target.id,ko.utils.arrayForEach(a.locations(),function(a){a.marker.setMap(null)}),a.locations([]),"yelp"===c.target.id&&(a.currentList=yelpTopPizza),"our"===c.target.id&&(a.currentList=ourTopPizza),"all"===c.target.id,a.locations(convertToLocations(a.currentList)),a.filterListMap())},a.filterListMap=function(){ko.utils.arrayForEach(a.locations(),function(b){b.show(!0),b.marker.setMap(map),-1==b.name.toLowerCase().indexOf(a.filter().toLowerCase())&&(b.show(!1),b.marker.setMap(null))})}}var minZoomLevel=11,lat=21.48,lng=-158.035,hnlLat=21.3,hnlLng=-157.858,iconBase="http://maps.google.com/mapfiles/kml/pal2/",icons={bar:{icon:iconBase+"icon27.png"},cafe:{icon:iconBase+"icon62.png"},food:{icon:iconBase+"icon47.png"},meal_delivery:{icon:iconBase+"icon47.png"},meal_takeaway:{icon:iconBase+"icon47.png"},restaurant:{icon:iconBase+"icon63.png"}},map=new google.maps.Map(document.getElementById("map"),{center:{lat:lat,lng:lng},mapTypeControl:!1,panControl:!1,streetViewControl:!1,zoom:minZoomLevel,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}}),infoWindow=new google.maps.InfoWindow,service=new google.maps.places.PlacesService(map);google.maps.event.addListener(map,"zoom_changed",function(){map.getZoom()<minZoomLevel&&map.setZoom(minZoomLevel)});var mapCenter=map.getCenter();google.maps.event.addDomListener(window,"resize",function(){map.setCenter(mapCenter)});var ourTopPizza=[{name:"Big Kahuna's Pizza",lat:21.335522,lng:-157.91654500000004},{name:"J.J. Dolan's",lat:21.310943,lng:-157.860536},{name:"Bravo Restaurant",lat:21.383593,lng:-157.94557099999997},{name:"Rosarina Pizza",lat:21.31229,lng:-157.862618},{name:"Doughlicious",lat:21.294302,lng:-157.841133},{name:"La Pizza Rina",lat:21.298095,lng:-157.83961599999998},{name:"Brick Oven Pizza",lat:21.332582,lng:-158.082038},{name:"Pizza Corner",lat:21.342423,lng:-158.124125},{name:"Serino's Pizza",lat:21.308459,lng:-157.810562},{name:"Boston's North End Pizza Restaurant",lat:21.380137,lng:-157.93820600000004}],yelpTopPizza=[{name:"Hiking Hawaii Cafe",lat:21.285458,lng:-157.835197},{name:"Kaneohe's Boston Pizza",lat:21.41895,lng:-157.804038},{name:"Amina Pizzeria",lat:21.292439,lng:-157.836421},{name:"JJ Dolan's",lat:21.310943,lng:-157.860536},{name:"The Lovin' Oven",lat:21.276885,lng:-157.823936},{name:"Uncle Bo's Pupu Bar & Grill",lat:21.27774,lng:-157.813856},{name:"Marketplace Cafe",lat:21.292547,lng:-157.84196},{name:"Impossibles Pizza",lat:21.664547,lng:-158.050516},{name:"Arancino on Beachwalk",lat:21.280135,lng:-157.83089},{name:"Fendu Boulangrie",lat:21.307802,lng:-157.81046}];ko.applyBindings(new AppViewModel),$(document).ready(function(){$(".main .list").hide(),$(".well label").click(function(){$("#map").is(":visible")?($("#map").hide(),$(".main .list").show()):($(".main .list").hide(),$("#map").show())}),$(".nav-sidebar").children("li").click(function(){$(".nav-sidebar").children("li").removeClass("active"),$(this).addClass("active")})});