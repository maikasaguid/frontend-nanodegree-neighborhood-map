"use strict";function initialize(){function a(a,c){if(c==google.maps.places.PlacesServiceStatus.OK)for(var e=0;e<a.length;e++){var f=a[e];i[e]=new google.maps.Marker({position:f.geometry.location,map:d,icon:"http://labs.google.com/ridefinder/images/mm_20_yellow.png"}),b(i[e],f)}}function b(a,b){new google.maps.InfoWindow;!function(a){google.maps.event.addListener(a,"click",function(){e.setContent(""),f.getDetails(b,function(a,b){b==google.maps.places.PlacesServiceStatus.OK&&e.setContent(infoWindowContent(a))}),e.open(d,a)})}(a)}var c={center:{lat:lat,lng:lng},mapTypeControl:!1,panControl:!1,streetViewControl:!1,zoom:minZoomLevel,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}},d=new google.maps.Map(document.getElementById("map"),c),e=new google.maps.InfoWindow,f=new google.maps.places.PlacesService(d),g=new google.maps.LatLng(lat,lng),h=(new google.maps.LatLng(hnlLat,hnlLng),{location:g,radius:"50000",keyword:"pizza",types:["bar","cafe","food","meal_delivery","meal_takeaway","restaurant"]}),i=[];f.radarSearch(h,a)}function infoWindowContent(a){var b="";"undefined"==typeof a.name&&(a.name="A Pizza Place with No Name"),b+="<h1>"+a.name+"</h1>","undefined"!=typeof a.adr_address&&(b+=a.adr_address+"<br />"),"undefined"!=typeof a.formatted_phone_number&&(b+='<span class="phone">'+a.formatted_phone_number+"<span><br />"),"undefined"!=typeof a.website&&(b+='<a href="'+a.website+'" class="website" target="_blank">'+a.website+"</a><br />"),"undefined"!=typeof a.rating&&(b+='<span class="rating">Google Rating: '+a.rating+"</span><br />");try{b+='<span class="rating" data-bind="text: $data">Foursquare Rating: '+foursquareRating(a.geometry.location)+"</span><br />"}catch(c){console.log(c)}return b}function foursquareRating(a){var b=a.k,c=a.D,d="https://api.foursquare.com/v2/venues/explore?client_id=T2RYZINQTJUYZIICO2MQXG0BMBAUWNI3F5KBGCIJ5QO3IRBT&client_secret=VMUZGLY0ENBSBSM4HXZOTU5CR2430ABKXT5BTVQOQOJ4N4PS&v=20130815&query=pizza&radius=100&limit=1&llAcc=10&ll=",e=d+b+","+c;$.getJSON(e,function(a){try{console.log(a.response.groups[0].items[0].venue.rating),function(a){return a.response.groups[0].items[0].venue.rating}(a)}catch(b){console.log(b)}})}function MapViewModel(){}function ListViewModel(){}var minZoomLevel=11,lat=21.48,lng=-158.025,hnlLat=21.3,hnlLng=-157.858,iconBase="http://maps.google.com/mapfiles/kml/pal2/",icons={bar:{icon:iconBase+"icon27.png"},cafe:{icon:iconBase+"icon62.png"},food:{icon:iconBase+"icon47.png"},meal_delivery:{icon:iconBase+"icon47.png"},meal_takeaway:{icon:iconBase+"icon47.png"},restaurant:{icon:iconBase+"icon63.png"}};google.maps.event.addDomListener(window,"load",initialize);var Marker=function(a,b){var c=this;c.name=a,c.location=b},Markers=[new Marker("Big Kahuna's Pizza",new google.maps.LatLng(21.335522,-157.91654500000004)),new Marker("Bravo Restaurant",new google.maps.LatLng(21.383593,-157.94557099999997)),new Marker("Rosarina Pizza",new google.maps.LatLng(21.31229,-157.862618)),new Marker("Doughlicious",new google.maps.LatLng(21.294302,-157.841133)),new Marker("La Pizza Rina",new google.maps.LatLng(21.298095,-157.83961599999998)),new Marker("Brick Oven Pizza",new google.maps.LatLng(21.332582,-158.082038)),new Marker("Pizza Corner",new google.maps.LatLng(21.342423,-158.124125)),new Marker("Boston's North End Pizza Restaurant",new google.maps.LatLng(21.380137,-157.93820600000004))];